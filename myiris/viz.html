<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0>
  <title>Data viz</title>
  <script src="js/libraries/jquery-3.3.1.min.js"></script>
  <script src="js/libraries/p5.min.js"></script>
  <script src="js/libraries/p5.dom.min.js"></script>
  <script src="js/libraries/grafica.min.js"></script>
  <script src="js/libraries/d3.min.js"></script>
  <script src="js/libraries/jquery.sidr.min.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/const.js"></script>
  <script src="js/behaviour.js"></script>
  <script src="js/agent.js"></script>
  <script src="js/task.js"></script>
  <script src="js/model.js"></script>
  <script src="js/plot.js"></script>
  <script src="js/sketch.js"></script>
  <script src="js/menu.js"></script>
  <script src="js/brush.js"></script>
  <script src="js/pannel.js"></script>
  <link id="stylesheet" rel="stylesheet" href="style-dark.css">
</head>

<body onresize=resize_viz()>



  <!-- <button id="pannel_sidr" href="#sidr">Display menu</button> -->
<div id="pannel">
    <button id="pause" onclick="pause_iris()">Pause</button>
    <button id="restart" onclick="restart_iris()">Restart !</button>
    <button id="menu_display" onclick="show_menu()">Custom test</button>

    <div id="left">
      <div id="agent_list">
        Sort agent by :
        <select id=selection_sort onchange="sort_agents()">
          <option value="fld">fld</option>
          <option value="rt">rt</option>
          <option value="stress">stress</option>
          <option value="aot">aot</option>
        </select>

      </div>
      <div id="tasks">tasks</div>


      <button id="theme" onclick="change_theme()" >Switch color theme</button>
    </div>


  </div>

<div id="main">
  <button id="test">Hide/Display side bar</button>
  <div id="scatter"></div>
  <div id="brush"></div>

  <div id="currentsituation">

  </div>
</div>

<script src='js/scatter.js'></script>
<script src="js/histogram.js"></script>
<script src='js/visualization.js'></script>


<!-- Those elements are hidden except on special events. -->
  <div id="tooltip" class="hidden">
  			<p><strong>Val.</strong></p>
  			<p><span id="value">-1</span></p>
	</div>
  <div id='menu'>
    <h3> Customize the simulation </h3>
    <p> Here you can chose the values for each category of behavior and restart the simulation with those values as starting values ! </p>
    <button id ="closemenu" onclick="close_menu()"> Close </button>
    <div id="container">
      <div id='capitalist' class='box'>
        <p> Capitalist agents</p>
        <input id='agent_cnt' type="number" min="0" max="5" value = "2"> Number of agents </input>
        <br>
        <input id = 'stress' type="number" min="0" max="100" value ="0"> Stress value </input>
        <br>
        <input id = 'rt'type="number" min="0" max="100" value = "0"> Rest time </input>
        <br>
        <input id='fld'type="number" min="0" max="100" value="100"> Motivation </input>
        <br>
        <input id='aot'type="number" min="0" max="100" value="0"> Amount of time </input>
      </div>
      <div id='geniesser' class='box'>
        <p> Geniesser agents</p>
        <input id='agent_cnt' type="number" min="0" max="5" value = "2"> Number of agents </input>
        <br>
        <input id = 'stress' type="number" min="0" max="100" value ="0"> Stress value </input>
        <br>
        <input id = 'rt'type="number" min="0" max="100" value = "0"> Rest time </input>
        <br>
        <input id='fld'type="number" min="0" max="100" value="100"> Motivation </input>
        <br>
        <input id='aot'type="number" min="0" max="100" value="0"> Amount of time </input>
    </div>
      <div id='curious' class='box'>
        <p> Curious agents</p>
        <input id='agent_cnt' type="number" min="0" max="5" value = "2"> Number of agents </input>
        <br>
        <input id = 'stress' type="number" min="0" max="100" value ="0"> Stress value </input>
        <br>
        <input id = 'rt'type="number" min="0" max="100" value = "0"> Rest time </input>
        <br>
        <input id='fld'type="number" min="0" max="100" value="100"> Motivation </input>
        <br>
        <input id='aot'type="number" min="0" max="100" value="0"> Amount of time </input>
      </div>
      <div id='perfectionist' class='box'>
        <p> Perfectionist agents</p>
        <input id='agent_cnt' type="number" min="0" max="5" value = "2"> Number of agents </input>
        <br>
        <input id = 'stress' type="number" min="0" max="100" value ="0"> Stress value </input>
        <br>
        <input id = 'rt'type="number" min="0" max="100" value = "0"> Rest time </input>
        <br>
        <input id='fld'type="number" min="0" max="100" value="100"> Motivation </input>
        <br>
        <input id='aot'type="number" min="0" max="100" value="0"> Amount of time </input>
        </div>
    </div>

    <div id="tasks_spec">
      <p> Specifics about tasks </p>
      <input id = "tasks_cnt" type="number" min="0" max="10" value="1"> Amount of tasks </input>
      <button id="getcurrent_val" onclick="get_current_values()"> Get values of current moment. </button>

    </div>

    <button id="set_default" onclick="set_default_values()"> Set default values </button>
    <br>

    <button id="custom_start" onclick="custom_start()"> Start with set values ! </button>

  </div>

<script type="text/javascript">
  //this is the code for the sliding window.
  let hidden = true;
  $("#test").click(function(){
    $("#pannel").toggle("slide",function(){
      //we use a callback so it has time to slide all the way before resizing.
      hidden = !hidden;

      if(hidden){
        d3.select("#main").style("width" , "100%");
      }else{
        d3.select("#main").style("width" , "85%");
      }

      //call the resize of the d3 things.
      resize_viz();
    });

  })


</script>


</body>

</html>
